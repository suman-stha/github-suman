1. To install nginx
---
- hosts: webservers
  become: true
  become_user: root
  tasks:
  - name: Inatall nginx package
    yum: name=nginx state=present

2.To copy the script file and run that script file.
---
- hosts: webservers
  become: true
  become_user: root
  tasks:
  - name : Transfer the script file
    copy: src=/tmp/test.sh dest=/tmp/
  - name: Execute the script
    command: sh /tmp/test.sh
3.To install tomcat, start service, deploy sample war file
---
- hosts: webservers
  become: true
  become_user: root
  tasks:
  - name: Install tomcat package
    yum: name=tomcat state=latest
  - name: Start the tomcat service
    service: name=tomcat state=started
  - name: Deploy sample.war 
    copy: src=sample.war dest=/usr/share/tomcat/webapps
    notify: restart tomcat
  handlers:
  - name: restart tomcat
    service: name=tomcat state=restarted

4.To install httpd package copy file to des and restart httpd 

---
- hosts: webservers
  become: true
  become_user: root
  vars:  
   src_path: /etc/ansible
   dest_path: /var/www/html
  tasks: 
  - name: Install httpd package
    yum: name=httpd state=present
  - name: Start httpd service
    service: name=httpd state=started
  - name: Deploy file
    copy: src={{src_path}}/index.html dest={{dest_path}}
    notify: restart httpd
  handlers: 
   - name: restart httpd    
     service: name=httpd state=restarted 
     
     
     
 # Playbook to copy the files with conditions
 ---
- hosts: webservers
  become: true
  become_user: root
  tasks:
  - name: copy the file
    copy:
     src: /tmp/abcd1
     dest: /tmp
     owner: unixadm
     group: root
     mode: 0777    
    when: ansible_distribution == "CentOS" and ansible_distribution_major_version == '7'
    
    
  EXAMPLES:
- name: install the latest version of Apache
  yum:
    name: httpd
    state: latest

- name: remove Apache package
  yum: 
    name: httpd
    state: absent

- name: install the latest version of Apache from the testing repo
  yum :
    name: httpd
    enablerepo: testing
     
- name: install one specific version of Apache
  yum: httpd-2.2.29-1.4.amazn1
    state: present
- name: upgrade all packages
  yum: 
   name: '*'
   state: latest

- name: upgrade all packages, excluding kernel and foo related packages
  yum :
    name: '*'
    state: latest
    exclude: kernel*, foo*

- name: install the nginx rpm from a remote repo
  yum: 
    name: http://nginx.org/packages/centos/6/noarch/RPMS/nginx-release-centos -6-0.el6.ngx.
    state: present

- name: install nignx rpm from a local file
  yum: 
    name: /usr/local/src/nginx-release-centos-6.0.el6.ngx.noarch.rpm
    state: present

- name: install the 'Development tools' package group
  yum: 
    name: "Development tools"
    state: present
 -name: install the 'Gnome desktop' environment group
  yum: 
    name: "@^gnome-desktop-environment"
    state: present

- name: List ansible packages and register result to print with the debug later
  yum: 
    list: ansible
  register: result 
  
  #Multitask playbooks
  ---
- hosts: webservers
  become: true
  become_user: root
  tasks: 
  - name: latest vsftpd version installation
    yum:
      name: vsftpd 
      state: latest
  - name: latest firewalld version installation
    yum: 
     name: firewalld
     state: latest
  - name: vsftpd enable and running
    service:
       name: vsftpd
       enabled: true
       state: started
  - name: firewalld eanbled and running
    service: 
      name: firewalld
      enable: true
      state: started
